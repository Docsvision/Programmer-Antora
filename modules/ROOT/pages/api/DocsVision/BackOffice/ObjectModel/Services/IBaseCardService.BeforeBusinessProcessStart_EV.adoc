= IBaseCardService.BeforeBusinessProcessStart -- событие

Происходит перед непосредственным запуском бизнес-процесса.

* *Пространство имен:* xref:api/DocsVision/BackOffice/ObjectModel/Services/Services_NS.adoc[DocsVision.BackOffice.ObjectModel.Services]
* *Сборка:* `DocsVision.BackOffice.ObjectModel.dll`

== Синтаксис

[source,csharp]
----
event EventHandler<BusinessProcessCancelEventArgs> BeforeBusinessProcessStart
----

== Заметки

Аргумент события содержит свойство Cancel, установка которого в значение true позволяет предотвратить запуск БП

== Примеры

Ниже приведен пример перехвата запуска БП у которого приоритет выше 2

[source,csharp]
----
//Инициализация контекста объектов

//получаем необходимые сервисы
IBaseCardService baseCardService = objectContext.GetService<IBaseCardService>();

//подключаемся к событию
baseCardService.BeforeBusinessProcessStart += (s, e) =>
{
 //определяем приоритет и если выше 2, блокируем запуск
 if (e.Process.Priority > 2)
 {
  e.Cancel = false;
 }
};

//получаем документ, вид которого позволяет запускать бизнес-процесс вида 00000000-0000-0000-0000-000000000001
Document document = objectContext.GetObject<Document>(new Guid("00000000-0000-0000-0000-000000000000"));

//получение вида бизнес-процесса
KindsCardProcess kindsCardProcess = objectContext.GetObject<KindsCardProcess>(new Guid("00000000-0000-0000-0000-000000000001"));

//запуск БП
baseCardService.StartBusinessProcess(document, kindsCardProcess);
----
