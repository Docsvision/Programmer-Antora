= IStateService -- интерфейс

Сервис для взаимодействия с _конструктором состояний_.

* *Пространство имен:* xref:api/DocsVision/BackOffice/ObjectModel/Services/Services_NS.adoc[DocsVision.BackOffice.ObjectModel.Services]
* *Сборка:* `DocsVision.BackOffice.ObjectModel.dll`

== Синтаксис

[source,csharp]
----
public interface IStateService
----

== Свойства

[cols=",",options="header"]
|===
|Имя |Описание
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.StatesDictionary_PR.adoc[StatesDictionary] |Возвращает ссылку на конструктор состояний.
|===

== Методы

[cols=",",options="header"]
|===
|Имя |Описание
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.AddBranch_MT.adoc[AddBranch(StatesCardKindStateSetting, StatesState, StatesState, StatesOperation)] |Создает новый переход в автомате состояний вида карточки.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.AddOperation_MT.adoc[AddOperation(StatesCardKindStateSetting, Boolean)] |Добавляет операцию в настройки автомата состояний вида карточки.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.AddOperation_1_MT.adoc[AddOperation(StatesCardKindStateSetting, String, Boolean)] |Добавляет операцию в настройки автомата состояний вида карточки.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.AddOperationLocalizedDescription_MT.adoc[AddOperationLocalizedDescription(StatesOperation, Int32, String)] |Добавляет локализованное описание операции.
|AddOperationLocalizedName(StatesOperation, Int32, String) |Добавляет локализованное название операции.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.AddState_MT.adoc[AddState(StatesCardKindStateSetting)] |Добавляет новое состояние в автомат состояний вида карточки.
|AddStateLocalizedName(StatesState, Int32, String) |Добавляет локализованное название состояния.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.AreOperationsAllowed_MT.adoc[AreOperationsAllowed(IEnumerable<BuiltInOperation>, BaseCard)] |Проверяет возможность выполнения встроенных операций, применительно к определенной карточке.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.AreOperationsAllowed_1_MT.adoc[AreOperationsAllowed(IEnumerable<StatesOperation>, BaseCard)] |Проверяет возможность выполнения операций (_конструктора состояний_), применительно к определенной карточке.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.AreOperationsAllowedFull_MT.adoc[AreOperationsAllowedFull(IEnumerable<BuiltInOperation>, BaseCard)] |Проверяет возможность выполнения встроенных операций, применительно к определенной карточке, с учетом прав сотрудника.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.AreOperationsAllowedFull_1_MT.adoc[AreOperationsAllowedFull(IEnumerable<StatesOperation>, BaseCard)] |Проверяет возможность выполнения операций (_конструктора состояний_), применительно к определенной карточке, с учетом прав сотрудника.
|CanDeleteOperation(StatesOperation) |Проверяет возможность удаления операции из _конструктора состояний_.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.ChangeState_MT.adoc[ChangeState(BaseCard, StatesState)] |Изменяет состояние карточки.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.ChangeState_1_MT.adoc[ChangeState(BaseCard, StatesStateMachineBranch)] |Изменяет состояние карточки.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.ChangeState_2_MT.adoc[ChangeState(BaseCard, StatesState, Boolean, String)] |Изменяет состояние карточки.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.ChangeState_3_MT.adoc[ChangeState(BaseCard, StatesStateMachineBranch, Boolean, String)] |Изменяет состояние карточки.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.ChangeState_4_MT.adoc[ChangeState(BaseCard, StatesStateMachineBranch, IEnumerable<KindsCardProcess>, String)] |Изменяет состояние карточки.
|CreateStateMachineLayout(StatesCardKindStateSetting) |Создает разметку автомата состояний.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.FindBranchByBuiltIn_MT.adoc[FindBranchByBuiltIn(BuiltInBranch, StatesState)] |Возвращает переход автомата состояний, соответствующий определенному начальному состоянию и указанному встроенному переходу.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.FindLineBranchesByStartState_MT.adoc[FindLineBranchesByStartState(StatesState)] |Возвращает все допустимые переходы состояний карточки, имеющей указанное начальное состояние.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.FindOperationByBuiltIn_1_MT.adoc[FindOperationByBuiltIn(BuiltInOperation, BaseCard)] |Возвращает операцию _конструктора состояний_, соответствующую указанной встроенной операции.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.FindOperationByBuiltIn_MT.adoc[FindOperationByBuiltIn(BuiltInOperation, KindsCardKind)] |Возвращает операцию _конструктора состояний_, соответствующую указанной встроенной операции.
|FindScriptBranchesByStartState(StatesState) |Возвращает переходы автомата состояний, в которых смена состояния осуществляется по скрипту.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.FindStateByBuiltIn_MT.adoc[FindStateByBuiltIn(BuiltInState, BaseCard)] |Возвращает состояние карточки, представленное в _Конструкторе состояний_ и соответствующее переданному встроенному состоянию.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.GetKindStateSetting_MT.adoc[GetKindStateSetting(KindsCardKind)] |Возвращает настройки вида карточки, заданные в _Конструкторе состояний_.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.GetOperations_MT.adoc[GetOperations(KindsCardKind)] |Возвращает список операций (редактирования и перехода), определенных в _Конструкторе состояний_ для указанного вида карточки.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.GetOrCreatePreferredCardKindSetting_MT.adoc[GetOrCreatePreferredCardKindSetting(KindsCardKind)] |Возвращает, а при необходимости создает, настройки автомата состояний вида карточки.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.GetStateMachineBranches_MT.adoc[GetStateMachineBranches(KindsCardKind)] |Возвращает список доступных, для указанного вида карточки, переходов автомата состояний.
|GetStateMachineLayout(KindsCardKind) |Возвращает разметку автомата состояний для вида карточки.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.GetStates_MT.adoc[GetStates(KindsCardKind)] |Возвращает список возможных состояний карточки.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.IsOperationAllowed_MT.adoc[IsOperationAllowed(BuiltInOperation, BaseCard)] |Определяет возможность выполнения встроенной операции, применительно к определенной карточке.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.IsOperationAllowed_1_MT.adoc[IsOperationAllowed(StatesOperation, BaseCard)] |Определяет возможность выполнения операции (_конструктора состояний_), применительно к определенной карточке.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.IsOperationAllowedFull_MT.adoc[IsOperationAllowedFull(BuiltInOperation, BaseCard)] |Определяет возможность выполнения встроенной операции, применительно к определенной карточке, с учетом прав доступа.
|xref:api/DocsVision/BackOffice/ObjectModel/Services/IStateService.IsOperationAllowedFull_1_MT.adoc[IsOperationAllowedFull(StatesOperation, BaseCard)] |Определяет возможность выполнения операции (_конструктора состояний_), применительно к определенной карточке, с учетом прав доступа.
|RemoveKindStateSetting(KindsCardKind) |Удаляет настройки автомата состояний вида карточки из _конструктора состояний_.
|===







