= UserSession - класс

Содержит данные сессии пользователя, а также предоставляет доступ к менеджерам управления объектами системы. Этот класс является [.keyword]*абстрактным*.

* [.keyword]*Пространство имен:* xref:api/DocsVision/Platform/ObjectManager/ObjectManager_NS.adoc[DocsVision.Platform.ObjectManager]
* [.keyword]*Сборка:* [.ph .filepath]`DocsVision.Platform.ObjectManager.dll`

== Синтаксис

[source,pre,codeblock,language-csharp]
----
public abstract class UserSession : IDisposable
----

== Свойства

[cols=",",options="header",]
|===
|Имя |Описание
|xref:UserSession.AccessManager_PR.adoc[AccessManager] |Предоставляет [.dfn .term]_менеджера_ по работе c объектами безопасности.
|xref:UserSession.CardManager_PR.adoc[CardManager] |Предоставляет [.dfn .term]_менеджера_ для работы с карточками.
|xref:UserSession.Connection_PR.adoc[Connection] |Возвращает текущее соединение с сервером Docsvision.
|xref:UserSession.ExtensionManager_PR.adoc[ExtensionManager] |Предоставляет [.dfn .term]_менеджера_ для работы с расширениями.
|xref:UserSession.FileManager_PR.adoc[FileManager] |Предоставляет [.dfn .term]_менеджера_ для работы с файлами.
|IconManager |Предоставляет [.dfn .term]_менеджера_ иконок.
|Id |Возвращает идентификатор текущей сессии.
|xref:UserSession.LicenseManager_PR.adoc[LicenseManager] |Предоставляет [.dfn .term]_менеджера_ лицензий.
|xref:UserSession.LockManager_PR.adoc[LockManager] |Предоставляет [.dfn .term]_менеджера_ блокировок.
|LogManager |Предоставляет [.dfn .term]_менеджера_ для работы с журналом работы приложения.
|ProfileManager |Предоставляет [.dfn .term]_менеджера_ пользовательских профилей.
|xref:UserSession.Properties_PR.adoc[Properties] |Возвращает коллекцию параметров пользовательской сессии.
|xref:UserSession.ReportManager_PR.adoc[ReportManager] |Предоставляет [.dfn .term]_менеджер_ для работы с хранимыми процедурами (отчетами).
|===

== Методы

[cols=",",options="header",]
|===
|Имя |Описание
|Awake |Пробуждает приостановленную сессию.
|Close |Закрывает текущую сессию.
|xref:UserSession.CreateSearchQuery_MT.adoc[CreateSearchQuery] |Создает поисковый запрос.
|CreateSearchQuery(string) |Позволяет сформировать заранее описанный поисковый запрос.
|CreateSectionQuery |Формирует поисковый запроса по секциям.
|CreateSectionQuery(string) |Позволяет сформировать заранее описанный поисковый запрос по секциям.
|CreateView |Создает представление.
|CreateView(string) |Создает представление из переданной строки XML-формата.
|Suspend |Приостанавливает сессию.
|===

== Заметки

В рамках сессии все данные кэшируются, к которым производилось обращение, для ускорения последующего доступа к ним. Размер кэша и продолжительность пребывания в нём данных регулируются ObjectManager автоматически, на основании внутренних алгоритмов. Разработчик может только явно потребовать удаления из кэша конкретных объектов (при помощи соответствующих методов этих объектов).

== Примеры

В примере создается экземпляр менеджера сессий (manager), и в открытом соединении создается сессия пользователя (session).

[source,pre,codeblock,language-csharp]
----
SessionManager manager = SessionManager.CreateInstance();
manager.Connect("http://localhost/DocsVision5/StorageServer/StorageServerService.asmx", string.Empty);
UserSession session = manager.CreateSession();
MessageBox.Show("IP-адрес клиента: " + session.Properties["ComputerAddress"].Value.ToString());
----

* *xref:../../../../api/DocsVision/Platform/ObjectManager/UserSession.AccessManager_PR.adoc[UserSession.AccessManager - свойство]* +
* *xref:../../../../api/DocsVision/Platform/ObjectManager/UserSession.ExtensionManager_PR.adoc[UserSession.ExtensionManager - свойство]* +
* *xref:../../../../api/DocsVision/Platform/ObjectManager/UserSession.FileManager_PR.adoc[UserSession.FileManager - свойство]* +
* *xref:../../../../api/DocsVision/Platform/ObjectManager/UserSession.LicenseManager_PR.adoc[UserSession.LicenseManager - свойство]* +
* *xref:../../../../api/DocsVision/Platform/ObjectManager/UserSession.LockManager_PR.adoc[UserSession.LockManager - свойство]* +
* *xref:../../../../api/DocsVision/Platform/ObjectManager/UserSession.CardManager_PR.adoc[UserSession.CardManager - свойство]* +
* *xref:../../../../api/DocsVision/Platform/ObjectManager/UserSession.Connection_PR.adoc[UserSession.Connection - свойство]* +
* *xref:../../../../api/DocsVision/Platform/ObjectManager/UserSession.Properties_PR.adoc[UserSession.Properties - свойство]* +
* *xref:../../../../api/DocsVision/Platform/ObjectManager/UserSession.CreateSearchQuery_MT.adoc[UserSession.CreateSearchQuery - метод]* +
* *xref:../../../../api/DocsVision/Platform/ObjectManager/UserSession.ReportManager_PR.adoc[UserSession.ReportManager - свойство]* +

*На уровень выше:* xref:../../../../api/DocsVision/Platform/ObjectManager/ObjectManager_NS.adoc[DocsVision.Platform.ObjectManager - пространство имен]
