= Раздел "Sections", Описание секции

Заполнение данных о секциях предполагает создание структуры (иерархии) секций данных карточки, указание их свойств и полей. Для добавления новой секции нужно воспользоваться командой _New section_ в секции _Sections_. После этого необходимо указать свойства новой секции и список входящих в неё полей.

[CAUTION]
====
Для корректной работы карточки требуется наличие у неё, как минимум, одной секции.
====

.Описание секции карточки
image::card-sections-description.png[Описание секции карточки]

.Описание секции содержит следующие свойства:
* _Псевдоним_ -- псевдоним секции, с помощью которого к ней можно обращаться в коде.
+
[IMPORTANT]
====
Псевдоним секции должен отличаться от псевдонима карточки. Псевдоним должен быть уникальным в рамках карточки.
====
+
* _Единственное число_ -- строка, указывающая наименование соответствующего класса при использовании утилит авто-генерации кода по описанию карточки.
* _Названия_ -- локализованные названия секции, отображаемые для пользователя.
* _Идентификатор_ -- уникальный идентификатор данной секции. Этот идентификатор генерируется автоматически при добавлении новой секции и может быть сгенерирован заново при нажатии кнопки *New*.
* _Тип_ -- тип секции:
** _struct_ -- плоская.
** _table_ -- коллекционная.
** _tree_ -- иерархическая.
* _Формат полей отображения_ -- формат описания (дайджеста) строки секции. Дайджесты строк -- это текстовые комментарии, уникальным образом характеризующие конкретную строку внутри секции. В основном, они используются в элементах управления, предназначенных для выбора строк секции.
+
[NOTE]
====
В текущей версии формат описания строки не применяется и зарезервирован для будущего использования.
====
+
* _Поля для отображения строк_ -- поля, из которых составляются описания (дайджесты) строк секции. Значения этих полей приводятся к строчному выражению, объединяются в порядке их описания и отделяются друг от друга пробелом.
+
[NOTE]
====
Например, секция содержит данные о сотрудниках организации и имеет несколько полей, среди которых есть _Name_ (Имя), _SurName_ (фамилия) и _MiddleName_ (Отчество). В этом случае, если выбрать эти три поля в качестве полей для отображения строки, то во всех элементах управления выбранная строка данной секции будет отображаться как _Фамилия Имя Отчество_.
====
+
* _Содержит свойства карточки_ -- атрибут для секций свойств. Это специальный вид секций, содержащих ряд предопределённых полей, которые могут выступать в качестве пользовательских атрибутов карточки (свойств). Платформа позволяет обрабатывать свойства карточки специальным образом -- например, выводить их в представления или синхронизировать их значения со свойствами файлов Office. При отметке какой-либо секции как _содержащей свойства_, требуется дополнительно указать ключевые поля этой секции:
** _Имя_ -- поле, содержащее название свойства (строка).
** _Значение_ -- поле, содержащее значение свойства (чаще всего -- variant).
** _Отображаемое_ -- поле, содержащее отображаемое значение свойства (строка).
** _Тип_ -- поле, определяющее тип свойства (перечисляемое).
* _Поля для сортировки_ -- описание полей секции, по которым производится сортировка строк при обращении к данным секции. Можно указать прямой или обратный порядок сортировки для конкретных полей. Число полей для сортировки не ограничено. Сортировка производится в порядке следования этих полей в описании.
* _Индексы и ограничения_ -- ограничения на поля секции. Каждое ограничение устанавливает одно требование к одному полю или набору полей секции. Можно указать следующие ограничения:
** _Unique globally_ -- значение поля (или набора полей) уникально в рамках сервера Docsvision.
** _Unique within card_ -- значение поля (или набора полей) уникально в рамках экземпляра карточки.
** _Unique within section_ -- значение поля (или набора полей) уникально в рамках секции.
** _Unique within tree_ -- значение поля (или набора полей) уникально в рамках всех уровней иерархической секции.
** _Clustered index_ -- по полю строится кластерный индекс.
** _Non- clustered index_ -- по полю строится некластерный индекс.
** _Unique clustered index_ -- по полю строится уникальный кластерный индекс.
** _Unique non -- clustered index_ -- по полю строится уникальный некластерный индекс.
+
[IMPORTANT]
====
Необходимо внимательно отнестись к созданию индексов, так как их не оптимальное создание (или попросту отсутствие) способно значительно понизить производительность всей системы.
====
+
* Дополнительные настройки секции:
** _Допускает одновременный доступ_ -- допускается одновременная работа нескольких пользователей с данными секции (чаще всего этот признак устанавливается для справочников и требует отказа от блокировки карточки).
** _Исключить из поиска_ -- поля секции не будут отображаться в диалоге поиска.
** _Из раздела могут быть выбраны строки_ -- секцию можно использовать для выбора строк (чаще всего этот признак устанавливается для секций справочников).
** _Запись событий в журнал необязательна_ -- сообщение об изменении строки секции не будет записываться в системный журнал.
+
[CAUTION]
====
Для повышения производительности крайне рекомендуется устанавливать этот режим для секций, с которыми производится интенсивная работа (например, для секций с данными журналирования).
====
** _Не копировать данные раздела_ -- при копировании карточки строки данной секции не будут копироваться.
** _Секция защищенная_ -- признак наличия собственных дескрипторов у строк секции (используется в случае полной безопасности на карточке в целом).
** _Элементы неудаляемые_ -- признак, показывающий, что строки из данной секции не могут быть удалены.
** _Не редактировать строки с иного сервера_ -- устанавливает запрет на изменение строк секции, если строки созданы на другом сервере. Например, подразделение, созданное на одном сервере, и реплицированное на другие сервера, будет доступно "только для чтения" на других серверах. Зарезервирован для модуля "Межфилиального обмена".
** _Не изменять дочерние строки с иного сервера_ -- устанавливает запрет на изменение строк секции, если секция создана на другом сервере. Например, сотрудники подразделения, созданного на одном другом сервере, будут доступны только для чтения на других серверах. Зарезервирован для модуля "Межфилиального обмена".
