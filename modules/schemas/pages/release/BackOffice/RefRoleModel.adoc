= Конструктор ролей

* Идентификатор: `7984F2CE-9345-4C59-B66B-7125DD9195A1`
* Псевдоним: `RefRoleModel`
* Название: _Конструктор ролей_

== Секции карточки

В БД значения по умолчанию для некоторых полей (например, "Параметр" = "Я", "Операция" = "Равно") могут быть записаны и как `0`, и как `NULL`.

=== Секция "Настройки прав"

* Идентификатор: `E71930E3-F799-40C6-891F-CE824273A101`
* Псевдоним: `CardKindRoleSettings`
* Название: _Настройки прав_
* Тип секции: `coll`

.Поля секции "Настройки прав"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Kind` |Вид карточки |`refid` | |
|`CommonRolesContainer` |Контейнер общих ролей |`bool` | |
|===

=== Подчиненные секции

=== Секция "Роли"

* Идентификатор: `1C088782-C467-4FB0-B988-D5C5235500A1`
* Псевдоним: `Roles`
* Название: _Роли_
* Тип секции: `coll`

.Поля секции "Роли"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Name` |Наименование |`unistring` | |
|===

=== Подчиненные секции

=== Секция "Группы условий"

* Идентификатор: `9BE0DEAF-DA5A-441B-A796-28E01D025361`
* Псевдоним: `ConditionGroups`
* Название: _Группы условий_
* Тип секции: `tree`

.Поля секции "Группы условий"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Operation` |Операция группы условий |`enum` | a|.Значения:
* И = 0.
* Или = 1
|===

=== Подчиненные секции

=== Секция "Условия"

* Идентификатор: `F86B5616-6899-418A-B82F-EE278DD83817`
* Псевдоним: `Conditions`
* Название: _Условия_
* Тип секции: `coll`

.Поля секции "Условия"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Parameter` |Параметр |`enum` | a|.Значения:
* Я = 0.
* Руководитель = 1.
* Подчиненные = 2.
* Все подчиненные = 3.
* Все подчиненные временнозамещаемого = 4.
* Все подчиненные постояннозамещаемого = 5.
* Заместитель = 6.
* Замещаемый = 7.
* Я -- первый активный заместитель = 8.
* Я -- первый активный постоянный заместитель = 9.
* Я -- первый активный временный заместитель = 10.
* Я -- первый активный заместитель исполнения = 11.
* Я -- первый активный заместитель ответственного исполнения = 12.
* Я -- первый активный заместитель подписи = 13.
* Я -- временный заместитель в период неактивности замещаемого = 14.
* Я -- постоянный заместитель = 15.
* Я -- заместитель подписи = 16.
* Сегодня = 96.
* Сейчас = 97.
* Поле = 98.
* Пользовательский = 99.
* Все = 100.
|`Operation` |Операция |`enum` | a|.Значения:
* Равно = 0.
* Не равно = 1.
* Является руководителем = 2.
* Занимает должность = 3.
* В том же подразделении = 4.
* В группе = 5.
* Не в группе = 6.
* В подразделении = 7.
* Не в подразделении = 8.
* Больше = 9.
* Больше или равно = 10.
* Меньше = 11.
* Меньше или равно = 12.
* Содержит = 13.
* Начинается на = 14.
* Исполняет роль = 15.
* В группе с подчинёнными из поля карточки = 16.
* Значение не задано = 98.
* Значение задано = 99.
* В Организации/Подразделении с подчинёнными из поля карточки = 18.
* In department from card field with dependent = 19.
* В группе без подчиненных из поля карточки = 17.
|`ValueFieldAlias` |Значение -- поле |`string` | |
|`ValueReferenceField` |Значение -- поля ссылочной карточки |`string` | |
|`ValueReferenceSectionID` |Значение -- раздел ссылочной карточки |`uniqueid` | |
|`ValuePosition` |Значение -- должность |`refid` | |
|`ValueGroup` |Значение -- группа |`refid` | |
|`ValueDate` |Значение -- дата |`datetime` | |
|`ValueDayOfWeek` |Значение -- день недели |`enum` | a|.Значения:
* Понедельник = 1.
* Вторник = 2.
* Среда = 3.
* Четверг = 4.
* Пятница = 5.
* Суббота = 6.
* Воскресенье = 0.
|`ValueDayWorkStatus` |Значение -- статус дня |`enum` | a|.Значения:
* Рабочий день = 0.
* Выходной = 1
|`ValueTimeWorkStatus` |Значение -- статус времени |`enum` | a|.Значения:
* Рабочее время = 0.
* Свободное время = 1
|`ValueBusinessCalendar` |Значение -- бизнес-календарь |`refcardid` | |Идентификатор типа: `F31B9F60-F81F-4825-8216-FC3C1FF15222`.
|`ValueSectionID` |Значение -- раздел |`uniqueid` | |
|`ValueDepartment` |Значение -- подразделение |`refid` | |
|`ParameterCustom` |Ссылка на пользовательский параметр (если используется пользовательский тип параметра) |`refid` | |
|`OperationCustom` |Ссылка на пользовательскую операцию (если используется пользовательская операция) |`refid` | |
|`ValueCustom` |Пользовательское значение |`variant` | |
|`ValueBoolean` |Логическое значение |`bool` | |
|`ValueString` |Значение -- строка |`unistring` | |
|`ValueId` |Значение -- идентификатор |`uniqueid` | |
|`ValueNumber` |Значение -- число |`float` | |
|`ValueReferenceCardTypeID` |Тип справочника |`uniqueid` | |
|`ValueDescription` |Описание значения для свойства или поля |`unistring` |256 |
|`ValueStoredProcedure` |Значение -- хранимая процедура |`unistring` | |
|===

=== Секция "Соответствие между операциями и состояниями"

* Идентификатор: `E8A7312B-A972-498E-AAF2-2744D85DF180`
* Псевдоним: `Links`
* Название: _Соответствие между операциями и состояниями_
* Тип секции: `coll`

.Поля секции "Соответствие между операциями и состояниями"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`State` |Состояние |`refid` | |
|`Operation` |Операция |`refid` | |
|`Role` |Роль |`refid` | |
|`Status` |Статус операции |`enum` | a|.Значения:
* Не разрешена = 0.
* Разрешена = 1.
* Запрещена = 2.
|===

=== Секция "Пользовательские параметры"

* Идентификатор: `357369E0-F183-46E9-8A9F-9A5666C320F2`
* Псевдоним: `CustomParameters`
* Название: _Пользовательские параметры_
* Тип секции: `coll`

.Поля секции "Пользовательские параметры"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Name` |Название |`unistring` | |
|`Type` |Тип (Скрипт, сборка) |`enum` | a|.Значения:
* Скрипт = 0.
* Сборка = 1
|`Script` |Ссылка на скрипт (используется если тип -- скрипт) |`refid` | |
|`AssemblyName` |Имя сборки (тип -- сборка) |`unistring` | |
|`ClassName` |Имя класса (тип -- сборка) |`unistring` | |
|===

=== Секция "Пользовательские операции"

* Идентификатор: `A7604B0D-8400-4103-8F36-E819D475E0DD
* Псевдоним: `CustomOperations`
* Название: _Пользовательские операции_
* Тип секции: `coll`

.Поля секции "Пользовательские операции"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Name` |Название |`unistring` | |
|`OperationAlias` |Псевдоним |`unistring` | |
|`Script` |Скрипт (если операция для стандартного параметра) |`refid` | |
|`AssemblyName` |Сборка (если операция для стандартного параметра) |`unistring` | |
|`ClassName` |Класс (если операция для стандартного параметра) |`unistring` | |
|`Value`Type` |Тип значения (целое число, число, строка, логическое, ссылка, пользовательский) |`enum` | a|.Значения:
* Целое число = 0.
* Число = 1.
* Строка = 2.
* Логическое = 3.
* Ссылка = 4.
* Пользовательский = 99.
|`Value`ReferenceCardTypeId` |Тип справочника (для значения типа "Ссылка") |`uniqueid` | |
|`Value`ReferenceSectionId` |Раздел справочника (для значения типа "Ссылка") |`uniqueid` | |
|`Value`CustomAssemblyName` |Имя сборки (для значения пользовательского типа) |`unistring` | |
|`Value`CustomClassName` |Имя класса (для значения пользовательского типа) |`unistring` | |
|`Parameter` |Параметр |`enum` | a|.Значения:
* Пользователь = 0.
* Дата = 1.
* Время = 2.
* Пользовательский = 99.
|`CustomParameter` |Пользовательский параметр |`refid` | |
|===
