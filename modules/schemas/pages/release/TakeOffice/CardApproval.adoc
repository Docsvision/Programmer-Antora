= Согласование

* Идентификатор: `A231269C-6126-4C1A-9758-F55FF9571EF8`
* Псевдоним: `CardApproval`
* Название: _Согласование_

== Секции карточки

=== Секция "Основная информация"

* Идентификатор: `3C2F1AC3-8D26-425F-956B-A3B0B52BAC5D
* Псевдоним: `MainInfo`
* Название: _Основная информация_
* Тип секции: `struct`

.Поля секции "Основная информация"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Name` |Тема документа |`unistring` |544 |
|`Type` |Вид согласования |`refid` | a|.Поля ссылки:
* `Type_Name > Name`
|`CreatedBy` |Регистратор |`refid` | a|.Поля ссылки:
* `Create_FName > FirstName`
* `Create_MName > MiddleName`
* `Create_LName > LastName`
* `Create_Email > Email`
|`CreationDate` |Дата создания |`datetime` | |
|`InitiatedBy` |Инициатор |`refid` | a|.Поля ссылки:
* `Initiate_LName > LastName`
* `Initiate_FName > FirstName`
* `Initiate_MName > MiddleName`
|`DocumentState` |Стадия согласования |`enum` | a|.Значения:
* Редактирование = 0.
* Согласование = 1.
* Консолидация = 2.
* Завершено = 3.
|`ApprovalState` |Статус согласования |`enum` | a|.Значения:
* Подготовка = 0.
* Согласование = 1.
* Согласовано = 2.
* Согласовано с замечаниями = 3.
* Не согласовано = 4.
|`IsOwnProcess` |Обрабатывается отдельным процессом |`bool` | |
|`ProcessFolder` |Папка процесса |`refid` | |
|`PollingInterval` |Период опроса |`int` | |
|`ParentCardID` |Родительская карточка (ID) |`refcardid` | a|.Поля ссылки:
* `ParentDescription > Description`
|`ParentName` |Название родительского документа |`unistring` |512 |
|`ParentTypeID` |Вид родительского документа |`refid` | a|.Поля ссылки:
* `ParentTypeName > Name`
|`ParentNumber` |Номер родительского документа |`unistring` |160 |
|`ParentRegDate` |Дата регистрации родительского документа |`datetime` | |
|`ParentCreationDate` |Дата создания родительского документа |`datetime` | |
|`DefaultApproverDuration` |Длительность заданий согласующих лиц |`int` | |
|`DefaultCanModifyFiles` |Разрешено изменение файлов |`bool` | |
|`DefaultResultFolder` |Папка результирующих документов |`refid` | |
|`DefaultViewRights` |Право просмотра всех файлов |`bool` | |
|`DefaultApproverComments` |Содержание заданий согласующих лиц |`unistring` |2048 |
|`DefaultNotApprovedDisabled` |Заблокировать состояние <Не согласовано> |`bool` | |
|`FilesID` |Согласованные документы |`refcardid` | a|
Идентификатор типа: `BFC9D190-BCD6-411A-B9F9-3160D3F68819`

Идентификатор секции: `3F8270DB-3603-463C-BA59-26B89EBB6CB5`

|`CreatedByPositionID` |Должность регистратора |`refid` | a|.Поля ссылки:
* `CreatedByPosition > Name`
|`InitiatedByPositionID` |Должность инициатора |`refid` | a|.Поля ссылки:
* `InitiatedByPosition > Name`
|`CreatedByDepartmentID` |Подразделение регистратора |`refid` | a|.Поля ссылки:
* `CreatedByDepartment > Name`
|`InitiatedByDepartmentID` |Подразделение инициатора |`refid` | a|.Поля ссылки:
* `InitiatedByDepartment > Name`
|`ConsolidatedCreation` |Создание итогового документа |`enum` | a|.Значения:
* Не создавать по умолчанию = 0.
* Загрузить итоговый документ = 1.
* Назначить итоговым документом = 2.
* Объединить изменения в итоговый документ = 3.
|`SendAsHTMl` |Отправлять письма заданий как HTMl` |`bool` | |
|===

=== Секция "Комментарии"

* Идентификатор: `2750C70B-0992-456B-AB3A-98AD11E99A94`
* Псевдоним: `Comments`
* Название: _Комментарии_
* Тип секции: `coll`

.Поля секции "Комментарии"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Comment` |Комментарий |`unistring` |2048 |
|`CreationDate` |Дата добавления |`datetime` | |
|`CreatedBy` |Кем добавлен |`refid` | a|.Поля ссылки:
* `> FirstName`
* `> MiddleName`
* `> LastName`
|`Cycle` |Цикл |`int` | |
|===

=== Секция "Журнал"

* Идентификатор: `BEDA2498-9859-4D35-9DE9-86D6F32DB212`
* Псевдоним: `Log`
* Название: _Журнал_
* Тип секции: `coll`

.Поля секции "Журнал"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`ActionDate` |Дата события |`datetime` | |
|`ActionBy` |Кем совершено |`refid` | a|.Поля ссылки:
* `> FirstName`
* `> MiddleName`
* `> LastName`
|`Description` |Описание действия |`unistring` |2048 |
|`Cycle` |Цикл |`int` | |
|`FileID` |Файл |`refid` | |
|`FileState` |Состояние файла |`enum` | a|.Значения:
* К принятию = 0.
* Согласован = 1.
* Согласован с замечаниями = 2.
* Не согласован = 3.
* Отозван = 4.
|`DocumentState` |Стадия согласования |`enum` | a|.Значения:
* Редактирование = 0.
* Согласование = 1.
* Консолидация = 2.
* Завершено = 3.
|`ApproverRowID` |Согласующее лицо |`refid` | |
|===

=== Секция "Ссылки на карточки"

* Идентификатор: `CD2746F7-2DBD-4D72-8F70-3B667B9409A7`
* Псевдоним: `CardReferences`
* Название: _Ссылки на карточки_
* Тип секции: `coll`

.Поля секции "Ссылки на карточки"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Type` |Тип ссылки |`refid` | a|.Поля ссылки:
* `> LinkName`
|`Link` |Карточка |`refcardid` | a|.Поля ссылки:
* `> Description`
|`Comments` |Комментарии |`unistring` |2048 |
|`CreationDate` |Дата создания |`datetime` | |
|`CreatedBy` |Кем добавлена |`refid` | a|.Поля ссылки:
* `Create_FName > FirstName`
* `Create_MName > MiddleName`
* `Create_LName > LastName`
|`URL` |URL` |`unistring` |512 |
|`LinkDesc` |Описание |`unistring` |32 |
|`FolderID` |Папка |`refid` | |
|`IsParentRef` |Ссылка на родительский документ |`bool` | |
|===

=== Секция "Уведомления"

* Идентификатор: `31144DE1-33DF-4EC0-B9E5-9317E91F4137`
* Псевдоним: `Notifications`
* Название: _Уведомления_
* Тип секции: `coll`

.Поля секции "Уведомления"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Event` |Событие |`enum` | a|.Значения:
* Неактивный исполнитель = 0.
* Факт делегирования = 2.
* Начало исполнения подчиненной задачи = 3.
* Отзыв задания = 4.
* Завершение задания согласования = 6.
* Согласующим лицом приняты все документы = 9.
* Согласующим лицом не принята часть документов = 10.
* Начало консолидации = 11.
* Завершение консолидации = 12.
* Назначение ответственного лица = 13.
|`EmployeeType` |Тип сотрудника |`enum` | a|.Значения:
* Регистратор = 0.
* Инициатор = 1.
* Согласующее лицо = 2.
* Ответственное лицо = 3.
|`Comments` |Текст сообщения |`unistring` |3900 |
|`Author` |Автор сообщения |`refid` | |
|`Disabled` |Отключено |`bool` | |
|===

=== Секция "Циклы согласования"

* Идентификатор: `9C73DAD2-22FA-46B5-909C-924FF8ACC095`
* Псевдоним: `Cycles`
* Название: _Циклы согласования_
* Тип секции: `coll`

.Поля секции "Циклы согласования"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Cycle` |Цикл |`int` | |
|`Consolidator` |Ответственное лицо |`refid` | a|.Поля ссылки:
* `Resp_LName > LastName`
* `Resp_FName > FirstName`
* `Resp_MName > MiddleName`
|`ConsolidatorTaskID` |Задание ответственного |`refcardid` | |Идентификатор типа: `F7E2090A-EEC3-4B51-B1BB-567D4A0117D6`
|`UseStaffDeputies` |Использовать заместителей из справочника |`bool` | |
|`StartDate` |Дата начала |`datetime` | |
|`FinishDate` |Дата завершения |`datetime` | |
|`Duration` |Длительность согласования |`int` | |
|`NotifyAuthor` |Возможность редактирования настроек цикла регистратором |`bool` | |
|`SendImmediately` |Отправить немедленно |`bool` | |
|`SequentialProcessing` |Последовательное согласование |`bool` | |
|`ActualFinishDate` |Дата реального завершения |`datetime` | |
|`ConsolidateAfter` |Консолидация после согласования |`bool` | |
|`AuthorTaskID` |Задание регистратора |`refcardid` | |Идентификатор типа: `F7E2090A-EEC3-4B51-B1BB-567D4A0117D6`
|`ConsolidatorComment` |Содержание задания ответственного лица |`unistring` |2048 |
|`AuthorComment` |Содержание задания регистратора |`unistring` |2048 |
|`ProcessId` |Процесс согласования |`refcardid` | |
|`ConsolidatorSeqComment` |Содержание задания контроля при последовательном согласовании |`unistring` |2048 |
|`ConsolidateSeq` |Последовательное утверждение |`bool` | |
|`MixedType` |Смешанный тип рассылки |`bool` | |
|`ConsolidatorPositionID` |Должность ответственного лица |`refid` | a|.Поля ссылки:
* `ConsolidatorPosition > Name`
|`ConsolidatorDepartmentID` |Подразделение ответственного лица |`refid` | a|.Поля ссылки:
* `ConsolidatorDepartment > Name`
|`EmailNotification` |Дублировать задание на e-mail` |`bool` | |
|`StartDateParam` |Параметр даты начала |`string` |64 |
|`FinishDateParam` |Параметр даты завершения |`string` |64 |
|`AppFullRights` |Не ограничивать права согласующих лиц |`bool` | |
|===

=== Подчиненные секции

=== Секция "Согласующие лица"

* Идентификатор: `76938C95-9F44-4C38-BD6B-5B786EDF8A34`
* Псевдоним: `Approvers`
* Название: _Согласующие лица_
* Тип секции: `coll`

.Поля секции "Согласующие лица"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`ApproverID` |Согласующее лицо |`uniqueid` | |
|`State` |Состояние |`enum` | a|.Значения:
* Не активен = 0.
* Согласование = 1.
* Согласовано = 2.
* Согласовано с замечаниями = 3.
* Не согласовано = 4.
* Отозвано = 5.
|`Comments` |Содержание |`unistring` |2048 |
|`TaskID` |Задание исполнителя |`refcardid` | |Идентификатор типа: `F7E2090A-EEC3-4B51-B1BB-567D4A0117D6`
|`Order` |Порядок |`int` | |
|`Duration` |Длительность |`int` | |
|`ControlTaskID` |Задание контроля для ответственного |`refcardid` | |Идентификатор типа: `F7E2090A-EEC3-4B51-B1BB-567D4A0117D6`
|`NotApprovedDisabled` |Заблокировать состояние <Не согласовано> |`bool` | |
|`ApproverType` |Тип согласующего лица |`enum` | a|.Значения:
* Сотрудник = 0.
* Отдел = 1.
* Группа = 2.
* Роль = 3.
|`ApproverName` |Имя согласующего лица |`unistring` |256 |
|`ApproverPositionID` |Должность согласующего лица |`refid` | a|.Поля ссылки:
* `ApproverPosition > Name`
|`ApproverDepartmentID` |Подразделение согласующего лица |`refid` | a|.Поля ссылки:
* `ApproverDepartment > Name`
|`EmailNotification` |Дублировать задание на e-mail` |`bool` | |
|===

=== Подчиненные секции

=== Секция "Заместители"

* Идентификатор: `1C2FF3B3-532B-483A-B231-29A951CA56CA
* Псевдоним: `Deputies`
* Название: _Заместители_
* Тип секции: `coll`

.Поля секции "Заместители"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`DeputyID` |Заместитель |`refid` | a|.Поля ссылки:
* `> LastName`
* `> FirstName`
* `> MiddleName`
|===

=== Секция "Права просмотра"

* Идентификатор: `EA400589-1F30-4F23-A325-D0DF9E38B2BD
* Псевдоним: `ViewRights`
* Название: _Права просмотра_
* Тип секции: `coll`

.Поля секции "Права просмотра"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`ApproverRowID` |Согласующее лицо |`refid` | |
|`FileRowID` |Строка файла |`refid` | |
|===

=== Секция "Файлы"

* Идентификатор: `7A9F0D60-444E-41AF-845E-4F4E94F43A52`
* Псевдоним: `Files`
* Название: _Файлы_
* Тип секции: `coll`

."Поля секции "Файлы"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`CardFileID` |Файл |`refcardid` | a|
Идентификатор типа: `2BBD0A41-265E-4FF8-82D6-C6342F34B1AF`

Идентификатор секции: `B4562DF8-AF19-4D0F-85CA-53A311354D39`

.Поля ссылки:
* `> FileID, > FileName`
* `> Author`

|`FileType` |Тип файла |`enum` | a|.Значения:
* Для согласования = 0.
* Версия = 1.
* Комментарий = 2.
* Утвержденный = 3.
* Информация о согласовании = 4.
|`CanModify` |Разрешено изменение |`bool` | |
|`ApproverRowID` |Согласователь |`refid` | |
|`ResultFolder` |Папка результирующего документа |`refid` | |
|`IsNew` |Новый |`bool` | |
|`IsDeleted` |Удален |`bool` | |
|`FileState` |Состояние файла |`enum` | a|.Значения:
* К согласованию = 0.
* Согласован = 1.
* Согласован с замечаниями = 2.
* Не согласован = 3.
* Отозван = 4.
|`FileRowID` |Оригинальный файл |`refid` | |
|`LastEmployeeID` |Сотрудник |`refid` | |
|`LastDate` |Дата последнего изменения |`datetime` | |
|`IsCheckedOut` |Файл заблокирован |`datetime` | |
|`VerCardFileID` |Карточка файла с версиями |`refcardid` | a|
Идентификатор типа: `2BBD0A41-265E-4FF8-82D6-C6342F34B1AF`

Идентификатор секции: `B4562DF8-AF19-4D0F-85CA-53A311354D39`

|`FileRemarks` |Замечания к файлу |`unitext` | |
|`CardRefID` |Карточка |`refcardid` | a|.Поля ссылки:
* `> Description`
|`OriginalFileName` |Имя оригинального файла |`unistring` |512 |
|`ApproveOriginal` |Направлять на согласование копии файла |`bool` | |
|===

=== Секция "Смешанный тип рассылки"

* Идентификатор: `CAF0AE76-5036-4CBF-AD8E-843FE8DF93B8`
* Псевдоним: `MixedTypes`
* Название: _Смешанный тип рассылки_
* Тип секции: `coll`

."Поля секции "Смешанный тип рассылки"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Order` |Порядковый номер |`int` | |
|`IsSequential` |Последовательно |`bool` | |
|===

=== Подчиненные секции

=== Секция "Блок согласования для смешанного типа"

* Идентификатор: `5151E289-F5A9-4A4D-A364-736F207FC9D0`
* Псевдоним: `ApproversSet`
* Название: _Блок согласования для смешанного типа_
* Тип секции: `coll`

."Поля секции "Блок согласования для смешанного типа"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`Order` |Порядковый номер |`int` | |
|`ApproverRowID` |Согласователь |`refid` | |
|===

=== Секция "Подчиненные согласования"

* Идентификатор: `2695BB57-67EB-48B9-B05C-1FF8B7C078C6`
* Псевдоним: `Approvals`
* Название: _Подчиненные согласования_
* Тип секции: `coll`

."Поля секции "Подчиненные согласования"
[cols="20%,20%,20%,20%,20%",options="header"]
|===
|Псевдоним |Название |Тип поля |Размер |Дополнительная информация
|`ApprovalID` |Согласование |`refcardid` | a|
Идентификатор типа: `A231269C-6126-4C1A-9758-F55FF9571EF8`

Идентификатор секции: `3C2F1AC3-8D26-425F-956B-A3B0B52BAC5D`

.Поля ссылки:
* `> Name`

|===

== Режимы работы карточки

."Режимы работы карточки
[cols="34%,33%,33%",options="header"]
|===
|Псевдоним |Идентификатор |Описание
|`Approving` |`31B8A420-0E05-4050-BC42-3E1DFE9B05DF` |Согласование
|`Consolidation` |`06BE9E09-7333-43FE-A973-A7E9AC30B15B` |Консолидация
|`Creation` |`09F676BD-02B7-4DBB-8E49-02A81D9469B1` |Создание
|`Control` |`DC89EC4A-2312-4FFD-9E8B-337ABC367B3D` |Контроль
|===

== Действия карточки

."Действия карточки
[cols="34%,33%,33%",options="header"]
|===
|Псевдоним |Идентификатор |Описание
|`Edit` |`663006E9-67A4-4E29-BE75-CFC6F29D4D74` |Редактировать
|`Approve` |`383F575C-4186-4A3F-845F-608210CD9AAA` |Согласовывать
|`Consolidate` |`C12A12C6-0650-4609-8BDF-062835CE174C` |Консолидировать
|`Control` |`D9325EBC-28FC-4355-82A5-719F1141353F` |Контроль
|===
